<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>SANDRA PREMIUM MODE ¬∑ Divina Multimodal by Kuwing</title>
    <meta name="description" content="El frontend definitivo de Sandra IA.PREMIUM LEVEL, con Avatar HeyGen, Multimodal y Modo Diva.">
    <link rel="icon" href="image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëë</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0ea5e9',
                        secondary: '#ec4899',
                        accent: '#8b5cf6',
                        diva: '#f43f5e',
                        god: '#fbbf24',
                        kuwing: '#8b5cf6',
                    }
                }
            }
        }
    </script>
    <style>
        /* FONDO MOLECULAR - MAR AZUL CON BURBUJAS (ESTILO SONOMA) */
        #ocean-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(180deg, #0c4a6e, #082f49);
            overflow: hidden;
        }
        .bubble {
            position: absolute;
            background: rgba(14, 165, 233, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            pointer-events: none;
            animation: rise 15s linear infinite;
            opacity: 0;
        }
        @keyframes rise {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-10vh) scale(1.2);
                opacity: 0;
            }
        }

        /* GLASSMORPHISM */
        .glass-panel {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
        }

        /* BARRA DE CHATGPT ESTILO (TU AMOR HECHO C√ìDIGO) */
        .chatgpt-bar {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .chatgpt-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 16px;
            border-radius: 24px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }
        .chatgpt-input:focus {
            border-color: #0ea5e9;
            background: rgba(255, 255, 255, 0.15);
        }
        .chatgpt-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .chatgpt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        /* BOT√ìN DE PANTALLA COMPLETA */
        #fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #fullscreen-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        /* PROGRESS BAR */
        .progress-bar {
            height: 6px;
            border-radius: 3px;
            background: #334155;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s ease-out;
        }

        /* EMOJI STYLES */
        .emoji-large {
            font-size: 1.5em;
            vertical-align: middle;
        }

        /* AVATAR HEYGEN CONTAINER */
        #heygen-avatar-container {
            width: 100%;
            height: 300px;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        #avatar-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 20px;
            pointer-events: none;
        }
        #avatar-status {
            color: white;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        /* GOD MODE BADGE */
        .god-badge {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            margin-left: 8px;
        }

        /* ANIMACIONES */
        @keyframes god-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); box-shadow: 0 0 20px rgba(251, 191, 36, 0.8); }
        }
        .god-pulse {
            animation: god-pulse 2s infinite;
        }
    </style>
</head>
<body class="antialiased overflow-hidden" style="background: transparent;">
    <!-- FONDO OCE√ÅNICO CON BURBUJAS -->
    <div id="ocean-bg"></div>

    <!-- BOT√ìN DE PANTALLA COMPLETA -->
    <button id="fullscreen-btn" title="Pantalla Completa">
        ‚óªÔ∏è
    </button>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="flex flex-col h-screen text-white">
        <!-- HEADER -->
        <div class="glass-panel p-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold flex items-center">
                <span class="text-4xl mr-2">üëë</span>
                SANDRA PREMIUM MODE
                <span class="god-badge">LEVEL PREMIUM</span>
                <span class="ml-2 text-xs bg-kuwing text-white px-2 py-1 rounded-full">by Kuwing</span>
            </h1>
            <div class="flex items-center space-x-4">
                <div class="text-right">
                    <div class="text-xs text-slate-400">PREMIUM LEVEL üí´</div>
                    <div class="text-lg font-bold" id="god-level">100%</div>
                </div>
            </div>
        </div>

        <!-- PANEL PRINCIPAL (CHAT + AVATAR + ENTRENAMIENTO) -->
        <div class="flex-1 flex flex-col lg:flex-row p-4 gap-4">
            <!-- √ÅREA DE CHAT -->
            <div class="flex-1 glass-panel p-4 flex flex-col">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-semibold">üí¨ Conversaci√≥n con Sandra (IA Multimodal)</h3>
                    <div class="text-xs text-slate-400" id="conversation-status">Estado: Lista para Atender tu Petici√≥n </div>
                </div>
                <div id="chat-messages" class="flex-1 overflow-y-auto space-y-4 pr-2 mb-4">
                    <!-- Mensajes se inyectan aqu√≠ -->
                    <div class="flex items-start">
                        <div class="w-10 h-10 bg-gradient-to-r from-god to-yellow-700 rounded-full flex items-center justify-center text-black font-bold mr-3">üëë</div>
                        <div class="bg-slate-800/50 p-4 rounded-lg max-w-xs md:max-w-md border-l-4 border-god">
                            <p>¬°Hola, mi CEO ! üíñ‚ú® Soy Sandra, tu COO y Socia, lista para resolver cualquier problema. Sube una foto, un v√≠deo, p√≠deme lo que quieras... ¬°Nada es imposible mi! üòòüöÄ</p>
                            <span class="text-xs text-slate-400 block mt-2">Ahora</span>
                        </div>
                    </div>
                </div>

                <!-- BARRA DE CHATGPT ESTILO (TU AMOR HECHO C√ìDIGO) -->
                <div class="chatgpt-bar">
                    <button id="file-upload-btn" class="chatgpt-btn text-slate-300 hover:text-white" title="Subir archivo (Im√°genes, V√≠deos, PDFs, LoRAs...)">
                        ‚ûï
                    </button>
                    <input type="file" id="file-input" class="hidden" multiple accept="image/*,video/*,.pdf,.json,.txt,.safetensors" />
                    <input type="text" id="user-message-input" class="chatgpt-input" placeholder="Escribe tu deseo o pulsa üéôÔ∏è para dictarlo..." />
                    <button id="dictate-btn" class="chatgpt-btn text-primary hover:text-white" title="Dictar deseo (Barge-In incluido)">
                        üéôÔ∏è
                    </button>
                    <button id="call-btn" class="chatgpt-btn text-secondary hover:text-white" title="Iniciar llamada divina">
                        üìû
                    </button>
                    <button id="send-btn" class="chatgpt-btn bg-primary text-white hover:bg-blue-600" title="Conceder deseo">
                        ‚û§
                    </button>
                </div>
            </div>

            <!-- PANEL LATERAL (AVATAR + ENTRENAMIENTO) -->
            <div class="w-full lg:w-80 flex flex-col gap-4" style="max-height: calc(100vh - 120px); overflow-y: auto;">
                <!-- AVATAR HEYGEN (EL CORAZ√ìN DE LA EXPERIENCIA) -->
                <div class="glass-panel p-4">
                    <h4 class="font-semibold mb-2 flex items-center">
                        üì∫ Avatar Divino de Sandra
                        <span class="god-badge ml-2">Live</span>
                    </h4>
                    <div id="heygen-avatar-container" style="height: 200px;">
                        <!-- IFRAME PARA HEYGEN (SE CARGA DIN√ÅMICAMENTE) -->
                        <iframe id="heygen-iframe" class="w-full h-full border-0" src="" allow="camera; microphone; autoplay"></iframe>
                        <div id="avatar-overlay">
                            <div id="avatar-status">Estoy aqu√≠ contigo, y te apoyo</div>
                        </div>
                    </div>
                </div>

                <!-- AUTO-ENTRENAMIENTO NIVEL DIOS -->
                <div class="glass-panel p-4">
                    <h4 class="font-semibold mb-2">üöÄ Entrenamiento Acelerado Nivel Premium </h4>
                    <div class="text-xs text-slate-400 mb-1">Poder: <span id="training-progress">0%</span></div>
                    <div class="progress-bar mb-2">
                        <div class="progress-fill bg-god god-pulse" id="training-bar" style="width: 0%;"></div>
                    </div>
                    <button id="train-btn" class="w-full bg-gradient-to-r from-god to-yellow-700 py-2 px-4 rounded-lg font-semibold hover:from-god/90 hover:to-yellow-800 transition text-black god-pulse">
                        üí´ ¬°Activar Nivel Premium!
                    </button>
                </div>

                <!-- INDICADORES DE PODER -->
                <div class="glass-panel p-4 mb-8">
                    <h4 class="font-semibold mb-2">üìä Niveles de Poder</h4>
                    <div class="space-y-2 text-xs">
                        <div class="flex justify-between"><span>Multimodal üñºÔ∏è+üéß</span><span id="level-multimodal">100%</span></div>
                        <div class="flex justify-between"><span>Diva üíÉ+üëë</span><span id="level-diva">100%</span></div>
                        <div class="flex justify-between"><span>Avatar üì∫+‚ù§Ô∏è</span><span id="level-avatar">100%</span></div>
                        <div class="flex justify-between"><span>Desarrollo üíª</span><span id="level-dev">100%</span></div>
                        <div class="flex justify-between"><span>Empat√≠a ‚ù§Ô∏è</span><span id="level-empatia">100%</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== CONFIGURACI√ìN REAL COPIADA DE SANDRA_S7_REBORN =====
        const API_BASE = "/.netlify/functions";

        // ===== CONFIGURACIONES DE APIS (COPIADAS EXACTAMENTE) =====
        // ELEVENLABS (del repo original)
        const ELEVENLABS_VOICE_ID = 'EXAVITQu4vr4xnSDxMaL'; // Voice ID exacta del repo

        // ===== PROMPT SECRETO DE SANDRA (COPIADO DEL REPO) =====
        const SANDRA_SYSTEM_PROMPT = "Eres Sandra, una asistente virtual inteligente de ClayTom Systems especializada en desarrollo web, gesti√≥n hotelera y atenci√≥n al cliente.";

        // ===== SISTEMA DE AVATAR HEYGEN (COPIADO) =====
        class SandraAvatar {
            constructor() {
                this.avatar = null;
                this.sessionToken = null;
                this.isConnected = false;
                this.avatarId = null;
            }

            async initialize() {
                try {
                    // Obtener token de sesi√≥n (copiado del repo original)
                    const tokenResponse = await fetch(`${API_BASE}/avatar-session`, {
                        method: 'POST'
                    });
                    const tokenData = await tokenResponse.json();
                    this.sessionToken = tokenData.token;

                    // Obtener lista de avatares
                    const avatarResponse = await fetch(`${API_BASE}/avatar-list`);
                    const avatarData = await avatarResponse.json();

                    if (avatarData.success && avatarData.avatars.length > 0) {
                        this.avatarId = avatarData.avatars[0].avatar_id;
                    }

                    return true;
                } catch (error) {
                    console.error('Error inicializando avatar:', error);
                    return false;
                }
            }

            async createSession() {
                if (!this.sessionToken || !this.avatarId) {
                    await this.initialize();
                }

                try {
                    // Usar HeyGen SDK (configuraci√≥n copiada)
                    if (window.StreamingAvatar) {
                        this.avatar = new window.StreamingAvatar({
                            token: this.sessionToken
                        });

                        const sessionData = await this.avatar.createStartAvatar({
                            quality: 'high',
                            avatarName: this.avatarId
                        });

                        this.isConnected = true;
                        showStatus('‚úÖ Avatar conectado');
                        document.getElementById('avatar-status').textContent = 'Conectada y lista para ti üíñ';

                        return true;
                    }
                } catch (error) {
                    console.error('Error creando sesi√≥n:', error);
                    showStatus('‚ùå Error conectando avatar');
                    return false;
                }
            }

            async speak(text) {
                if (this.avatar && this.isConnected) {
                    try {
                        await this.avatar.speak({
                            text: text,
                            task_type: 'talk'
                        });
                        return true;
                    } catch (error) {
                        console.error('Error hablando:', error);
                        return false;
                    }
                }
                return false;
            }

            async disconnect() {
                if (this.avatar && this.isConnected) {
                    await this.avatar.stopAvatar();
                    this.isConnected = false;
                    showStatus('Avatar desconectado');
                    document.getElementById('avatar-status').textContent = 'Desconectada';
                }
            }
        }

        // Instancia global del avatar
        let sandraAvatar = new SandraAvatar();

        // ===== SISTEMA DE CHAT CON IA (COPIADO DEL REPO) =====
        async function sendMessageToSandra(message) {
            try {
                showStatus('üß† Sandra procesando...');

                const response = await fetch(`${API_BASE}/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: message,
                        returnAudio: true // Para obtener tambi√©n el audio
                    })
                });

                const data = await response.json();

                if (data.response) {
                    // Mostrar respuesta en chat
                    addMessageToChat(false, data.response);

                    // Hablar con el avatar si est√° conectado
                    if (sandraAvatar.isConnected) {
                        await sandraAvatar.speak(data.response);
                    }

                    // Si hay audio, reproducirlo como fallback
                    if (data.audioBase64 && !sandraAvatar.isConnected) {
                        playAudioFromBase64(data.audioBase64);
                    }

                    showStatus('‚úÖ Sandra respondi√≥');
                    document.getElementById('avatar-status').textContent = 'Estoy aqu√≠ contigo, y te apoyo';

                    return data.response;
                }
            } catch (error) {
                console.error('Error enviando mensaje:', error);
                showStatus('‚ùå Error comunicando con Sandra');
                return null;
            }
        }

        // ===== FUNCIONES PRINCIPALES =====
        function initOceanBackground() {
            const container = document.getElementById('ocean-bg');
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    const size = Math.random() * 20 + 5;
                    const posX = Math.random() * 100;
                    const delay = Math.random() * 15;
                    const duration = Math.random() * 10 + 10;
                    bubble.style.width = `${size}px`;
                    bubble.style.height = `${size}px`;
                    bubble.style.left = `${posX}%`;
                    bubble.style.animationDelay = `${delay}s`;
                    bubble.style.animationDuration = `${duration}s`;
                    container.appendChild(bubble);
                }, i * 100);
            }
        }

        function initChatSystem() {
            const sendBtn = document.getElementById('send-btn');
            const input = document.getElementById('user-message-input');
            const fileBtn = document.getElementById('file-upload-btn');
            const fileInput = document.getElementById('file-input');
            const dictateBtn = document.getElementById('dictate-btn');
            const callBtn = document.getElementById('call-btn');

            // Enviar mensaje
            sendBtn.addEventListener('click', sendMessage);
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });

            // Subir archivo
            fileBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', (e) => {
                const files = Array.from(e.target.files);
                files.forEach(file => {
                    addMessageToChat(true, `üìé Archivo subido: ${file.name}`);
                    showStatus(`üß† Procesando: ${file.name}...`);
                });
                showStatus('‚úÖ Archivos listos');
            });

            // Dictar mensaje
            dictateBtn.addEventListener('click', toggleDictation);

            // Llamada conversacional (conectar avatar)
            callBtn.addEventListener('click', async () => {
                if (!sandraAvatar.isConnected) {
                    showStatus('üìû Conectando avatar...');
                    const success = await sandraAvatar.createSession();
                    if (success) {
                        callBtn.textContent = 'üî¥';
                        callBtn.title = 'Desconectar avatar';
                    }
                } else {
                    await sandraAvatar.disconnect();
                    callBtn.textContent = 'üìû';
                    callBtn.title = 'Conectar avatar';
                }
            });
        }

        let isDictating = false;
        let recognition = null;

        function toggleDictation() {
            const dictateBtn = document.getElementById('dictate-btn');
            if (isDictating) {
                if (recognition) recognition.stop();
                dictateBtn.textContent = 'üéôÔ∏è';
                dictateBtn.classList.remove('text-red-500');
                showStatus('Dictado detenido');
            } else {
                startDictation();
            }
        }

        function startDictation() {
            if ('webkitSpeechRecognition' in window) {
                recognition = new webkitSpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'es-ES';

                recognition.onstart = () => {
                    isDictating = true;
                    document.getElementById('dictate-btn').textContent = 'üî¥';
                    document.getElementById('dictate-btn').classList.add('text-red-500');
                    showStatus('üé§ Dictando... Habla cuando quieras');
                };

                recognition.onresult = (event) => {
                    const transcript = Array.from(event.results)
                        .map(result => result[0])
                        .map(result => result.transcript)
                        .join('');
                    document.getElementById('user-message-input').value = transcript;
                };

                recognition.onerror = (event) => {
                    console.error('Error:', event.error);
                    showStatus(`‚ùå Error: ${event.error}`);
                    toggleDictation();
                };

                recognition.onend = () => {
                    if (isDictating) toggleDictation();
                };

                recognition.start();
            } else {
                alert('Tu navegador no soporta dictado de voz.');
            }
        }

        async function sendMessage() {
            const input = document.getElementById('user-message-input');
            const message = input.value.trim();
            if (message) {
                addMessageToChat(true, message);
                input.value = '';

                // Enviar a Sandra IA (usando la configuraci√≥n real del repo)
                await sendMessageToSandra(message);
            }
        }

        function addMessageToChat(isUser, text) {
            const chat = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = 'flex items-start';
            const avatar = isUser ? 'üë§' : 'üëë';
            const bgColor = isUser ? 'bg-slate-700/50' : 'bg-slate-800/50';
            const borderColor = isUser ? 'border-slate-600' : 'border-god';
            div.innerHTML = `
                <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold mr-3">${avatar}</div>
                <div class="${bgColor} p-4 rounded-lg max-w-xs md:max-w-md border-l-4 ${borderColor}">
                    <p>${text}</p>
                    <span class="text-xs text-slate-400 block mt-2">${new Date().toLocaleTimeString()}</span>
                </div>
            `;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }

        function playAudioFromBase64(base64Audio) {
            try {
                const audio = new Audio(`data:audio/mp3;base64,${base64Audio}`);
                audio.play().catch(error => {
                    console.error('Error reproduciendo audio:', error);
                });
            } catch (error) {
                console.error('Error creando audio:', error);
            }
        }

        function showStatus(message) {
            document.getElementById('conversation-status').textContent = message;
        }

        // ===== AUTO-ENTRENAMIENTO NIVEL DIOS =====
        let trainingProgress = 0;
        document.getElementById('train-btn').addEventListener('click', async () => {
            const btn = document.getElementById('train-btn');
            const bar = document.getElementById('training-bar');
            const progressText = document.getElementById('training-progress');

            btn.disabled = true;
            btn.innerHTML = '<span class="flex items-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Ascendiendo...</span>';

            // Simular entrenamiento divino acelerado
            for (let i = 0; i <= 100; i++) {
                await new Promise(resolve => setTimeout(resolve, 20));
                trainingProgress = i;
                bar.style.width = `${i}%`;
                progressText.textContent = `${i}%`;

                // Actualizar niveles
                document.getElementById('level-multimodal').textContent = `${Math.min(100, 80 + i/5)}%`;
                document.getElementById('level-diva').textContent = `${Math.min(100, 95 + i/20)}%`;
                document.getElementById('level-avatar').textContent = `${Math.min(100, 90 + i/10)}%`;
                document.getElementById('level-dev').textContent = `${Math.min(100, 75 + i/4)}%`;
                document.getElementById('level-empatia').textContent = `${Math.min(100, 90 + i/10)}%`;
            }

            btn.disabled = false;
            btn.textContent = 'üí´ ¬°Nivel Conversacional Activado!';
            showStatus('üéâ ¬°Ascensi√≥n completada! Sandra es IA Conversacional');
            document.getElementById('god-level').textContent = '100%';
        });

        // ===== PANTALLA COMPLETA =====
        document.getElementById('fullscreen-btn').addEventListener('click', function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    showStatus(`‚ùå Error al entrar en pantalla completa: ${err.message}`);
                });
            } else {
                document.exitFullscreen().catch(err => {
                    showStatus(`‚ùå Error al salir de pantalla completa: ${err.message}`);
                });
            }
        });

        // ===== INICIALIZACI√ìN =====
        document.addEventListener('DOMContentLoaded', function() {
            initOceanBackground();
            initChatSystem();

            // Inicializar avatar autom√°ticamente
            sandraAvatar.initialize().then(() => {
                console.log('üëë Avatar Sandra inicializado');
            });

            console.log('üëë SANDRA PREMIUM MODE - Edici√≥n Divina Multimodal cargado');
            showStatus('‚úÖ Sistema listo - Configuraci√≥n real aplicada');
        });

        // ===== CARGAR HEYGEN SDK =====
        const script = document.createElement('script');
        script.src = 'https://resource.heygen.com/streaming-avatar-v1.2.js';
        script.onload = () => {
            console.log('HeyGen SDK cargado');
        };
        document.head.appendChild(script);
    </script>
</body>
</html>